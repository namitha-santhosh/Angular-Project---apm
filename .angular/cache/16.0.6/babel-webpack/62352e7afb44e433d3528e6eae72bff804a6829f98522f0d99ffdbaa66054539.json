{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductDetailComponent = class ProductDetailComponent {\n  constructor(route, router, productService, authService, cartService) {\n    this.route = route;\n    this.router = router;\n    this.productService = productService;\n    this.authService = authService;\n    this.cartService = cartService;\n    this.pageTitle = 'Product Detail';\n    this.errorMessage = '';\n    this.isAuthenticated = false;\n  }\n  ngOnInit() {\n    const param = this.route.snapshot.paramMap.get('id');\n    if (param) {\n      const id = +param;\n      this.getProduct(id);\n    }\n  }\n  getProduct(id) {\n    this.productService.getProduct(id).subscribe({\n      next: product => this.product = product,\n      error: err => this.errorMessage = err\n    });\n  }\n  onBack() {\n    this.router.navigate(['/products']);\n  }\n  isAdminUser() {\n    return this.authService.isAdmin();\n  }\n  addToCart(productId) {\n    if (productId !== null) {\n      // Check if productId is not null\n      this.cartService.addToCart(productId).subscribe(response => {\n        console.log('Product added to cart:', response);\n        // You can provide user feedback here if needed\n      }, error => {\n        console.error('Error adding product to cart:', error);\n        // Handle errors or provide user feedback\n      });\n    }\n  }\n};\n\nProductDetailComponent = __decorate([Component({\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css']\n})], ProductDetailComponent);\nexport { ProductDetailComponent };","map":{"version":3,"names":["Component","ProductDetailComponent","constructor","route","router","productService","authService","cartService","pageTitle","errorMessage","isAuthenticated","ngOnInit","param","snapshot","paramMap","get","id","getProduct","subscribe","next","product","error","err","onBack","navigate","isAdminUser","isAdmin","addToCart","productId","response","console","log","__decorate","templateUrl","styleUrls"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\products\\product-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { Product } from './product';\r\nimport { ProductService } from './product.service';\r\nimport { AuthService } from '../auth.service';\r\nimport { CartService } from './CartService';\r\n\r\n@Component({\r\n  templateUrl: './product-detail.component.html',\r\n  styleUrls: ['./product-detail.component.css']\r\n})\r\nexport class ProductDetailComponent implements OnInit {\r\n  pageTitle = 'Product Detail';\r\n  errorMessage = '';\r\n  product: Product | undefined;\r\n\r\n  isAuthenticated = false;\r\n\r\n  constructor(private route: ActivatedRoute,\r\n              private router: Router,\r\n              private productService: ProductService,\r\n              private authService: AuthService,\r\n              private cartService: CartService\r\n              ) {\r\n  }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    const param = this.route.snapshot.paramMap.get('id');\r\n    if (param) {\r\n      const id = +param;\r\n      this.getProduct(id);\r\n    }\r\n  }\r\n\r\n  getProduct(id: number): void {\r\n    this.productService.getProduct(id).subscribe({\r\n      next: product => this.product = product,\r\n      error: err => this.errorMessage = err\r\n    });\r\n  }\r\n\r\n  onBack(): void {\r\n    this.router.navigate(['/products']);\r\n  }\r\n\r\n  isAdminUser(): boolean {\r\n    return this.authService.isAdmin();\r\n  }\r\n\r\n  addToCart(productId: number): void {\r\n    if (productId !== null) { // Check if productId is not null\r\n      this.cartService.addToCart(productId).subscribe(\r\n        (response: any) => {\r\n          console.log('Product added to cart:', response);\r\n          // You can provide user feedback here if needed\r\n        },\r\n        (error: any) => {\r\n          console.error('Error adding product to cart:', error);\r\n          // Handle errors or provide user feedback\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAYjD,IAAaC,sBAAsB,GAAnC,MAAaA,sBAAsB;EAOjCC,YAAoBC,KAAqB,EACrBC,MAAc,EACdC,cAA8B,EAC9BC,WAAwB,EACxBC,WAAwB;IAJxB,KAAAJ,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IAV/B,KAAAC,SAAS,GAAG,gBAAgB;IAC5B,KAAAC,YAAY,GAAG,EAAE;IAGjB,KAAAC,eAAe,GAAG,KAAK;EAQvB;EAIAC,QAAQA,CAAA;IACN,MAAMC,KAAK,GAAG,IAAI,CAACT,KAAK,CAACU,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACpD,IAAIH,KAAK,EAAE;MACT,MAAMI,EAAE,GAAG,CAACJ,KAAK;MACjB,IAAI,CAACK,UAAU,CAACD,EAAE,CAAC;;EAEvB;EAEAC,UAAUA,CAACD,EAAU;IACnB,IAAI,CAACX,cAAc,CAACY,UAAU,CAACD,EAAE,CAAC,CAACE,SAAS,CAAC;MAC3CC,IAAI,EAAEC,OAAO,IAAI,IAAI,CAACA,OAAO,GAAGA,OAAO;MACvCC,KAAK,EAAEC,GAAG,IAAI,IAAI,CAACb,YAAY,GAAGa;KACnC,CAAC;EACJ;EAEAC,MAAMA,CAAA;IACJ,IAAI,CAACnB,MAAM,CAACoB,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;EAEAC,WAAWA,CAAA;IACT,OAAO,IAAI,CAACnB,WAAW,CAACoB,OAAO,EAAE;EACnC;EAEAC,SAASA,CAACC,SAAiB;IACzB,IAAIA,SAAS,KAAK,IAAI,EAAE;MAAE;MACxB,IAAI,CAACrB,WAAW,CAACoB,SAAS,CAACC,SAAS,CAAC,CAACV,SAAS,CAC5CW,QAAa,IAAI;QAChBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,QAAQ,CAAC;QAC/C;MACF,CAAC,EACAR,KAAU,IAAI;QACbS,OAAO,CAACT,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrD;MACF,CAAC,CACF;;EAEL;CAED;;AAvDYpB,sBAAsB,GAAA+B,UAAA,EAJlChC,SAAS,CAAC;EACTiC,WAAW,EAAE,iCAAiC;EAC9CC,SAAS,EAAE,CAAC,gCAAgC;CAC7C,CAAC,C,EACWjC,sBAAsB,CAuDlC;SAvDYA,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}