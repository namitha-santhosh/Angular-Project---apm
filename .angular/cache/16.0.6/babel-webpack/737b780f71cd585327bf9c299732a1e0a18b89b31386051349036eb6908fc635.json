{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CategoryComponent_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r2.name);\n  }\n}\nfunction CategoryComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r3.productName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r3.productCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(7, 3, product_r3.price, \"USD\", true, \"1.2-2\"));\n  }\n}\nclass CategoryComponent {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.categories = []; // Array to store fetched categories\n    this.selectedCategoryId = null; // Store the selected category ID\n    this.products = []; // Array to store fetched products\n  }\n\n  ngOnInit() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    // Fetch categories from your API (replace with your actual API endpoint)\n    this.http.get('http://127.0.0.1:8000/api/category', {\n      headers\n    }).subscribe(data => {\n      this.categories = data;\n    });\n  }\n  onCategoryChange() {\n    // Fetch products for the selected category\n    if (this.selectedCategoryId !== null) {\n      // Replace 'your-api-endpoint' and 'categoryId' with your actual API endpoint and parameter\n      const apiUrl = `http://127.0.0.1:8000/api/category/${this.selectedCategoryId}`;\n      this.http.get(apiUrl).subscribe(data => {\n        this.products = data;\n      });\n    } else {\n      // If no category is selected, clear the products array\n      this.products = [];\n    }\n  }\n}\n_class = CategoryComponent;\n_class.ɵfac = function CategoryComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AuthService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-category\"]],\n  decls: 25,\n  vars: 3,\n  consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"form-group\"], [\"for\", \"categorySelect\"], [\"id\", \"categorySelect\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-8\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n  template: function CategoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Products by Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Select Category:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"select\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_select_ngModelChange_8_listener($event) {\n        return ctx.selectedCategoryId = $event;\n      })(\"change\", function CategoryComponent_Template_select_change_8_listener() {\n        return ctx.onCategoryChange();\n      });\n      i0.ɵɵtemplate(9, CategoryComponent_option_9_Template, 2, 2, \"option\", 6);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"div\", 1)(11, \"div\", 7)(12, \"h2\");\n      i0.ɵɵtext(13, \"Products in Selected Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"table\", 8)(15, \"thead\")(16, \"tr\")(17, \"th\");\n      i0.ɵɵtext(18, \"Product Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Product Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Price\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"tbody\");\n      i0.ɵɵtemplate(24, CategoryComponent_tr_24_Template, 8, 8, \"tr\", 9);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedCategoryId);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i3.CurrencyPipe],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { CategoryComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","category_r2","id","ɵɵadvance","ɵɵtextInterpolate","name","product_r3","productName","productCode","ɵɵpipeBind4","price","CategoryComponent","constructor","http","authService","categories","selectedCategoryId","products","ngOnInit","token","getToken","headers","HttpHeaders","set","get","subscribe","data","onCategoryChange","apiUrl","ɵɵdirectiveInject","i1","HttpClient","i2","AuthService","selectors","decls","vars","consts","template","CategoryComponent_Template","rf","ctx","ɵɵlistener","CategoryComponent_Template_select_ngModelChange_8_listener","$event","CategoryComponent_Template_select_change_8_listener","ɵɵtemplate","CategoryComponent_option_9_Template","CategoryComponent_tr_24_Template"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\category\\category.component.ts","C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\category\\category.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-category',\n  templateUrl: './category.component.html',\n  styleUrls: ['./category.component.css'],\n})\nexport class CategoryComponent implements OnInit {\n  categories: any[] = []; // Array to store fetched categories\n  selectedCategoryId: number | null = null; // Store the selected category ID\n  products: any[] = []; // Array to store fetched products\n\n  constructor(private http: HttpClient, private authService: AuthService) { }\n\n  ngOnInit(): void {\n\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    // Fetch categories from your API (replace with your actual API endpoint)\n    this.http.get('http://127.0.0.1:8000/api/category', { headers }).subscribe((data: any) => {\n      this.categories = data;\n    });\n  }\n\n  onCategoryChange(): void {\n    // Fetch products for the selected category\n    if (this.selectedCategoryId !== null) {\n      // Replace 'your-api-endpoint' and 'categoryId' with your actual API endpoint and parameter\n      const apiUrl = `http://127.0.0.1:8000/api/category/${this.selectedCategoryId}`;\n\n      this.http.get(apiUrl).subscribe((data: any) => {\n        this.products = data;\n      });\n    } else {\n      // If no category is selected, clear the products array\n      this.products = [];\n    }\n  }\n}\n","<div class=\"container mt-4\">\n    <h1>Products by Category</h1>\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n        <!-- Category selection dropdown -->\n        <div class=\"form-group\">\n          <label for=\"categorySelect\">Select Category:</label>\n          <select class=\"form-control\" id=\"categorySelect\" [(ngModel)]=\"selectedCategoryId\" (change)=\"onCategoryChange()\">\n            <option *ngFor=\"let category of categories\" [value]=\"category.id\">{{ category.name }}</option>\n          </select>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-8\">\n        <h2>Products in Selected Category</h2>\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th>Product Name</th>\n              <th>Product Code</th>\n              <th>Price</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let product of products\">\n              <td>{{ product.productName }}</td>\n              <td>{{ product.productCode }}</td>\n              <td>{{ product.price | currency:'USD':true:'1.2-2' }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}