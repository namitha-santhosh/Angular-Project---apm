{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\products\\product-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Product } from './product';\r\nimport { ProductService } from './product.service';\r\nimport { Router } from '@angular/router';\r\nimport {Httpcl}\r\n\r\n@Component({\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n  pageTitle = 'Product List';\r\n  imageWidth = 50;\r\n  imageMargin = 2;\r\n  showImage = false;\r\n  errorMessage = '';\r\n\r\n  _listFilter = '';\r\n  get listFilter(): string {\r\n    return this._listFilter;\r\n  }\r\n  set listFilter(value: string) {\r\n    this._listFilter = value;\r\n    this.filteredProducts = this.listFilter ? this.performFilter(this.listFilter) : this.products;\r\n  }\r\n\r\n  filteredProducts: Product[] = [];\r\n  products: Product[] = [];\r\n\r\n\r\n  constructor(private productService: ProductService, private router: Router) { }\r\n\r\n  fetchImage(imageUrl: string): void {\r\n    this.http.get(imageUrl, { responseType: 'blob' }).subscribe(response => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        // Assuming you have an image element in your template with an ID \"productImage\"\r\n        const imageElement = document.getElementById('productImage') as HTMLImageElement;\r\n        imageElement.src = reader.result as string;\r\n      };\r\n      reader.readAsDataURL(response);\r\n    });\r\n  }\r\n  \r\n\r\n\r\n  performFilter(filterBy: string): Product[] {\r\n    filterBy = filterBy.toLocaleLowerCase();\r\n    return this.products.filter((product: Product) =>\r\n      product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1);\r\n  }\r\n\r\n  // Checks both the product name and tags\r\n  performFilter2(filterBy: string): Product[] {\r\n    filterBy = filterBy.toLocaleLowerCase();\r\n    return this.products.filter((product: Product) =>\r\n      product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1 ||\r\n        (product.tags && product.tags.some(tag => tag.toLocaleLowerCase().indexOf(filterBy) !== -1)));\r\n  }\r\n\r\n  toggleImage(): void {\r\n    this.showImage = !this.showImage;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.productService.getProducts().subscribe({\r\n      next: products => {\r\n        this.products = products;\r\n        this.filteredProducts = this.products;\r\n      },\r\n      error: err => this.errorMessage = err\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  \r\n}\r\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}