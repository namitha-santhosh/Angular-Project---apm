{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { HttpHeaders } from '@angular/common/http';\nimport { Component } from '@angular/core';\nlet ViewCategoryComponent = class ViewCategoryComponent {\n  constructor(http, authService, router) {\n    this.http = http;\n    this.authService = authService;\n    this.router = router;\n    this.categories = [];\n  }\n  ngOnInit() {\n    this.loadCategories();\n  }\n  loadCategories() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get('http://127.0.0.1:8000/api/category', {\n      headers\n    }).subscribe(data => {\n      this.categories = data;\n    });\n  }\n  deleteCategory(categoryId) {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.delete(`http://127.0.0.1:8000/api/delete-category/${categoryId}`, {\n      headers\n    }).subscribe(() => {\n      // After successful deletion, reload the categories\n      alert(\"Category Deleted Successfully\");\n      this.loadCategories();\n    });\n  }\n  onBack() {\n    this.router.navigate(['/products']);\n  }\n};\nViewCategoryComponent = __decorate([Component({\n  selector: 'pm-view-category',\n  templateUrl: './view-category.component.html',\n  styleUrls: ['./view-category.component.css']\n})], ViewCategoryComponent);\nexport { ViewCategoryComponent };","map":{"version":3,"names":["HttpHeaders","Component","ViewCategoryComponent","constructor","http","authService","router","categories","ngOnInit","loadCategories","token","getToken","headers","set","get","subscribe","data","deleteCategory","categoryId","delete","alert","onBack","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\view-category\\view-category.component.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'pm-view-category',\n  templateUrl: './view-category.component.html',\n  styleUrls: ['./view-category.component.css']\n})\nexport class ViewCategoryComponent {\n  categories: any[] = []; \n\n  constructor(private http:HttpClient, private authService:AuthService, private router:Router){}\n  \n  ngOnInit(): void {\n    this.loadCategories();\n  }\n\n  loadCategories() {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.get<any[]>('http://127.0.0.1:8000/api/category', {headers}).subscribe((data: any) => {\n      this.categories = data;\n    });\n  }\n\n  deleteCategory(categoryId: number) {\n    const token = this.authService.getToken();\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n    this.http.delete<void>(`http://127.0.0.1:8000/api/delete-category/${categoryId}`, {headers} ).subscribe(() => {\n      // After successful deletion, reload the categories\n      alert(\"Category Deleted Successfully\")\n      this.loadCategories();\n\n    });\n  }\n\n  onBack():void{\n    this.router.navigate(['/products']);\n  }\n\n\n\n}\n"],"mappings":";AAAA,SAAqBA,WAAW,QAAQ,sBAAsB;AAC9D,SAASC,SAAS,QAAQ,eAAe;AASzC,IAAaC,qBAAqB,GAAlC,MAAaA,qBAAqB;EAGhCC,YAAoBC,IAAe,EAAUC,WAAuB,EAAUC,MAAa;IAAvE,KAAAF,IAAI,GAAJA,IAAI;IAAqB,KAAAC,WAAW,GAAXA,WAAW;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAFpF,KAAAC,UAAU,GAAU,EAAE;EAEuE;EAE7FC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAcA,CAAA;IACZ,MAAMC,KAAK,GAAG,IAAI,CAACL,WAAW,CAACM,QAAQ,EAAE;IACzC,MAAMC,OAAO,GAAG,IAAIZ,WAAW,EAAE,CAACa,GAAG,CAAC,eAAe,EAAE,UAAUH,KAAK,EAAE,CAAC;IACzE,IAAI,CAACN,IAAI,CAACU,GAAG,CAAQ,oCAAoC,EAAE;MAACF;IAAO,CAAC,CAAC,CAACG,SAAS,CAAEC,IAAS,IAAI;MAC5F,IAAI,CAACT,UAAU,GAAGS,IAAI;IACxB,CAAC,CAAC;EACJ;EAEAC,cAAcA,CAACC,UAAkB;IAC/B,MAAMR,KAAK,GAAG,IAAI,CAACL,WAAW,CAACM,QAAQ,EAAE;IACzC,MAAMC,OAAO,GAAG,IAAIZ,WAAW,EAAE,CAACa,GAAG,CAAC,eAAe,EAAE,UAAUH,KAAK,EAAE,CAAC;IACzE,IAAI,CAACN,IAAI,CAACe,MAAM,CAAO,6CAA6CD,UAAU,EAAE,EAAE;MAACN;IAAO,CAAC,CAAE,CAACG,SAAS,CAAC,MAAK;MAC3G;MACAK,KAAK,CAAC,+BAA+B,CAAC;MACtC,IAAI,CAACX,cAAc,EAAE;IAEvB,CAAC,CAAC;EACJ;EAEAY,MAAMA,CAAA;IACJ,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;CAID;AAlCYpB,qBAAqB,GAAAqB,UAAA,EALjCtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,gCAAgC;EAC7CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACWxB,qBAAqB,CAkCjC;SAlCYA,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}