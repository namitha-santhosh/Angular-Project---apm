{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductListComponent = class ProductListComponent {\n  get listFilter() {\n    return this._listFilter;\n  }\n  set listFilter(value) {\n    this._listFilter = value;\n    this.filteredProducts = this.listFilter ? this.performFilter(this.listFilter) : this.products;\n  }\n  constructor(productService, router, http, authService) {\n    this.productService = productService;\n    this.router = router;\n    this.http = http;\n    this.authService = authService;\n    this.pageTitle = 'Product List';\n    this.imageWidth = 50;\n    this.imageMargin = 2;\n    this.showImage = false;\n    this.errorMessage = '';\n    this._listFilter = '';\n    this.filteredProducts = [];\n    this.products = [];\n  }\n  fetchImage(imageUrl) {\n    this.http.get(imageUrl, {\n      responseType: 'blob'\n    }).subscribe(response => {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        const imageElement = document.getElementById('productImage');\n        imageElement.src = reader.result;\n      };\n      reader.readAsDataURL(response);\n    });\n  }\n  performFilter(filterBy) {\n    filterBy = filterBy.toLocaleLowerCase();\n    return this.products.filter(product => product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1);\n  }\n  performFilter2(filterBy) {\n    filterBy = filterBy.toLocaleLowerCase();\n    return this.products.filter(product => product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1 || product.tags && product.tags.some(tag => tag.toLocaleLowerCase().indexOf(filterBy) !== -1));\n  }\n  toggleImage() {\n    this.showImage = !this.showImage;\n  }\n  ngOnInit() {\n    this.productService.getProducts().subscribe({\n      next: products => {\n        this.products = products;\n        this.filteredProducts = this.products;\n      },\n      error: err => this.errorMessage = err\n    });\n  }\n};\nProductListComponent = __decorate([Component({\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.css']\n})], ProductListComponent);\nexport { ProductListComponent };","map":{"version":3,"names":["Component","ProductListComponent","listFilter","_listFilter","value","filteredProducts","performFilter","products","constructor","productService","router","http","authService","pageTitle","imageWidth","imageMargin","showImage","errorMessage","fetchImage","imageUrl","get","responseType","subscribe","response","reader","FileReader","onloadend","imageElement","document","getElementById","src","result","readAsDataURL","filterBy","toLocaleLowerCase","filter","product","productName","indexOf","performFilter2","tags","some","tag","toggleImage","ngOnInit","getProducts","next","error","err","__decorate","templateUrl","styleUrls"],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\products\\product-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Product } from './product';\r\nimport { ProductService } from './product.service';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  templateUrl: './product-list.component.html',\r\n  styleUrls: ['./product-list.component.css']\r\n})\r\nexport class ProductListComponent implements OnInit {\r\n  pageTitle = 'Product List';\r\n  imageWidth = 50;\r\n  imageMargin = 2;\r\n  showImage = false;\r\n  errorMessage = '';\r\n\r\n  _listFilter = '';\r\n  get listFilter(): string {\r\n    return this._listFilter;\r\n  }\r\n  set listFilter(value: string) {\r\n    this._listFilter = value;\r\n    this.filteredProducts = this.listFilter ? this.performFilter(this.listFilter) : this.products;\r\n  }\r\n\r\n  filteredProducts: Product[] = [];\r\n  products: Product[] = [];\r\n\r\n\r\n  constructor(private productService: ProductService, private router: Router, private http:HttpClient, private authService: Auth) { }\r\n\r\n  fetchImage(imageUrl: string): void {\r\n    this.http.get(imageUrl, { responseType: 'blob' }).subscribe(response => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        const imageElement = document.getElementById('productImage') as HTMLImageElement;\r\n        imageElement.src = reader.result as string;\r\n      };\r\n      reader.readAsDataURL(response);\r\n    });\r\n  }\r\n\r\n  performFilter(filterBy: string): Product[] {\r\n    filterBy = filterBy.toLocaleLowerCase();\r\n    return this.products.filter((product: Product) =>\r\n      product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1);\r\n  }\r\n\r\n  performFilter2(filterBy: string): Product[] {\r\n    filterBy = filterBy.toLocaleLowerCase();\r\n    return this.products.filter((product: Product) =>\r\n      product.productName.toLocaleLowerCase().indexOf(filterBy) !== -1 ||\r\n        (product.tags && product.tags.some(tag => tag.toLocaleLowerCase().indexOf(filterBy) !== -1)));\r\n  }\r\n\r\n  toggleImage(): void {\r\n    this.showImage = !this.showImage;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.productService.getProducts().subscribe({\r\n      next: products => {\r\n        this.products = products;\r\n        this.filteredProducts = this.products;\r\n      },\r\n      error: err => this.errorMessage = err\r\n    });\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}