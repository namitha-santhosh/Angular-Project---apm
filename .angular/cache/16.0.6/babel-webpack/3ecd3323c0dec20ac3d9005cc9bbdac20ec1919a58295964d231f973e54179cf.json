{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\hp\\OneDrive\\Desktop\\P10 - Training\\angular\\Angular Project - apm\\src\\app\\admin\\admin.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\nimport { HttpClient, HttpHeaders } from '@angular/common/http'; \n\n@Component({\n  selector: 'pm-admin',\n  templateUrl: \n    ['./admin.component.html']\n  `,\n  styleUrls: ['./admin.component.css']\n})\nexport class AdminComponent implements OnInit {\n  iframeUrl: SafeResourceUrl | undefined;\n\n  constructor(\n    private authService: AuthService,\n    private router: Router,\n    private sanitizer: DomSanitizer,\n    private http: HttpClient // Inject HttpClient\n  ) {}\n\n  ngOnInit(): void {\n    const token = this.authService.getToken();\n    const adminUrl = 'http://127.0.0.1:8000/admin'; // Replace with your EasyAdminBundle URL\n\n    // Set the JWT token in the Authorization header\n    const headers = new HttpHeaders().set('Authorization', `Bearer ${token}`);\n\n    // Make the HTTP request with headers\n    this.http.get(adminUrl, { headers }).subscribe(\n      (response: any) => {\n        //this.iframeUrl = this.sanitizer.bypassSecurityTrustResourceUrl(`${adminUrl}`);\n      },\n      (error) => {\n        console.error('Error fetching admin data', error);\n        if (error.status === 401) {\n          this.router.navigate(['/login']);\n        }\n      }\n    );\n  }\n}\n"],"mappings":"AA4CA"},"metadata":{},"sourceType":"module","externalDependencies":[]}